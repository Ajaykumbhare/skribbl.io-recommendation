<html>
  <head>
    <title>skribble.io recommendation</title>
  </head>
  <body>
    <div>
      <h3>skribbl.io recommendation</h3>
      <div>
        <input placeholder="search patterns... ex. ____ M__K" />
      </div>
      <div id="results"></div>

      <a href="https://github.com/Ajaykumbhare/skribbl.io-recommendation" target="_blank"> 👨‍💻 Source code</a>
    </div>
  </body>
</html>

<script>
  const input = document.querySelector('input');
  const result = document.querySelector('#results');

  const copyToClipboard = (str) => {
    const el = document.createElement('textarea');
    el.value = str;
    el.setAttribute('readonly', '');
    el.style.position = 'absolute';
    el.style.left = '-9999px';
    document.body.appendChild(el);
    const selected = document.getSelection().rangeCount > 0 ? document.getSelection().getRangeAt(0) : false;
    el.select();
    document.execCommand('copy');
    document.body.removeChild(el);
    if (selected) {
      document.getSelection().removeAllRanges();
      document.getSelection().addRange(selected);
    }
  };

  const randomColor = () => Math.floor(Math.random() * 16777215).toString(16);

  result.addEventListener('click', (e) => {
    copyToClipboard(e.target.innerText);
  });

  const suggestions = [
    'bear',
    'hair',
    'tank',
    'type',
    'iron',
    'cord',
    'moss',
    'path',
    'wave',
    'JayZ',
    'Dora',
    'melt',
    'wart',
    'Zeus',
    'kiss',
    'snow',
    'sale',
    'ring',
    'Elsa',
    'Ikea',
    'loot',
    'scar',
    'maze',
    'tiny',
    'fork',
    'oval',
    'knee',
    'cold',
    'tire',
    'plow',
    'weak',
    'nail',
    'hive',
    'Nemo',
    'cute',
    'bait',
    'Hulk',
    'beef',
    'legs',
    'mask',
    'spit',
    'peas',
    'claw',
    'diva',
    'meal',
    'cola',
    'base',
    'copy',
    'salt',
    'Rick',
    'deer',
    'tuna',
    'soap',
    'thin',
    'rain',
    'lips',
    'love',
    'good',
    'dots',
    'poke',
    'roll',
    'navy',
    'Xbox',
    'bark',
    'twig',
    'head',
    'drum',
    'lamp',
    'face',
    'orca',
    'lion',
    'pike',
    'cone',
    'dead',
    'Yoda',
    'bill',
    'punk',
    'west',
    'Zuma',
    'iPad',
    'cave',
    'rest',
    'taxi',
    'hard',
    'open',
    'plug',
    'fish',
    'king',
    'jazz',
    'Rome',
    'Nike',
    'wall',
    'ramp',
    'thug',
    'cash',
    'cork',
    'rock',
    'slam',
    'burp',
    'loaf',
    'poor',
    'wife',
    'clay',
    'link',
    'read',
    'heat',
    'warm',
    'silo',
    'palm',
    'sand',
    'lock',
    'tape',
    'dent',
    'pink',
    'wasp',
    'taco',
    'horn',
    'boar',
    'afro',
    'atom',
    'baby',
    'bald',
    'ball',
    'bank',
    'barn',
    'beak',
    'bean',
    'beer',
    'bell',
    'belt',
    'bird',
    'bite',
    'blue',
    'bomb',
    'book',
    'bowl',
    'bull',
    'cage',
    'cake',
    'cape',
    'cast',
    'cell',
    'chef',
    'chin',
    'clap',
    'coal',
    'coat',
    'coin',
    'comb',
    'corn',
    'crab',
    'crow',
    'cube',
    'deaf',
    'derp',
    'desk',
    'diet',
    'door',
    'exam',
    'fall',
    'farm',
    'fast',
    'flag',
    'flea',
    'frog',
    'full',
    'gang',
    'gate',
    'germ',
    'gift',
    'glow',
    'goal',
    'gold',
    'golf',
    'grid',
    'grin',
    'half',
    'hand',
    'harp',
    'heel',
    'hell',
    'hero',
    'hoof',
    'hook',
    'hose',
    'hurt',
    'idea',
    'jeep',
    'kite',
    'kiwi',
    'lady',
    'lamb',
    'leaf',
    'leak',
    'lime',
    'line',
    'luck',
    'lung',
    'meat',
    'meme',
    'milk',
    'mime',
    'mint',
    'monk',
    'moon',
    'moth',
    'nerd',
    'noob',
    'nose',
    'nuke',
    'page',
    'pain',
    'park',
    'pill',
    'pine',
    'polo',
    'pond',
    'pony',
    'poop',
    'pray',
    'puma',
    'race',
    'raft',
    'rail',
    'rake',
    'rice',
    'room',
    'root',
    'rose',
    'ruby',
    'rune',
    'seal',
    'seed',
    'shoe',
    'shop',
    'sick',
    'sing',
    'sink',
    'slow',
    'soda',
    'soup',
    'spin',
    'stab',
    'star',
    'step',
    'swan',
    'tail',
    'tear',
    'tent',
    'toad',
    'tomb',
    'trap',
    'tree',
    'turd',
    'vein',
    'vent',
    'vine',
    'vise',
    'well',
    'wind',
    'wine',
    'wing',
    'wire',
    'wolf',
    'wool',
    'work',
    'worm',
    'yeti',
    'yolk',
    'zoom',
    'vote',
    'chew',
    'dock',
    'echo',
    'foil',
    'Lego',
    'text',
    'skin',
    'gasp',
    'east',
    'deep',
    'neck',
    'Finn',
    'Asia',
    'mold',
    'Thor',
    'Olaf',
    'pipe',
    'undo',
    'dome',
    'goat',
    'risk',
    'walk',
    'roof',
    'lane',
    'boil',
    'Cuba',
    'fort',
    'jail',
    'Audi',
    'lily',
    'hill',
    'duck',
    'acid',
    'Oreo',
    'knot',
    'drip',
    'beet',
    'fizz',
    'Elmo',
    'yawn',
    'Mars',
    'arch',
    'nest',
    'ABBA',
    'soil',
    'lens',
    'mall',
    'halo',
    'swag',
    'Nasa',
    'acne',
    'safe',
    'pear',
    'fern',
    'lynx',
    'glue',
    'duel',
    'tuba',
    'dice',
    'pope',
    'lake',
    'doll',
    'boat',
    'maid',
    'food',
    'logo',
    'mole',
    'lava',
    'girl',
  ];

  document.querySelector('#results').innerHTML = suggestions.reduce(
    (a, b) => `${a}<span style="color:${randomColor()}">${b}</span>`,
    '',
  );
  input.addEventListener('keypress', (e) => {
    if (e.keyCode === 13) {
      if (input.value.trim() !== '') {
        fetch(`.netlify/functions/finder/${input.value}`)
          .then((res) => res.json())
          .then((data) => {
            const { suggestions } = data;
            document.querySelector('#results').innerHTML = suggestions.reduce(
              (a, b) => `${a}<span style="color:${randomColor()}">${b}</span>`,
              '',
            );
          })
          .catch(() => alert('I am busy now. Can we connect later?'));
      }
    }
  });
</script>

<style>
  body {
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: cursive;
  }
  body > div {
    width: 500px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    justify-items: center;
  }
  h3 {
    margin: 0;
    color: #00ad9f;
    font-weight: bold;
  }
  a {
    text-decoration: none;
    color: #00ad9f;
    font-weight: bold;
    position: fixed;
    bottom: 10px;
    right: 10px;
  }

  input {
    padding: 10px 15px;
    width: 300px;
    margin: 10px;
  }

  #results {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    padding: 20px;
    justify-content: center;
  }

  #results > span {
    cursor: pointer;
    border: 1px solid #ddd;

    padding: 5px 20px;
    border-radius: 8px;
  }

  #results > span:hover {
    font-weight: bold;
  }
</style>
